#!/usr/bin/env node

/**
 * 模块
 */
const http = require('http'),
    Function = require('../constant/Function'),
    app = require('../main');

/**
 * 端口号
 */
const port = Function.normalizePort(process.env.PORT || '723'); //创建端口
app.set('port', port); // 设置端口

/**
 * 服务器
 */
const server = http.createServer(app); // 创建服务器
server.listen(port); // 监听端口
server.on('error', Function.onError);
server.on('listening', Function.onListening.bind(this, server));

/**
 * 数据库
 */
require('../controller/database');
